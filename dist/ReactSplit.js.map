{"version":3,"sources":["webpack://ReactSplit/webpack/universalModuleDefinition","webpack://ReactSplit/webpack/bootstrap","webpack://ReactSplit/external \"react\"","webpack://ReactSplit/./src/components/Split.tsx","webpack://ReactSplit/./node_modules/@ishikawa_masashi/cassowary/lib/expression.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/cassowary/lib/strength.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/useEffectOnce/index.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/cassowary/lib/constraint.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/cassowary/lib/maptype.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/cassowary/lib/variable.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/index.js","webpack://ReactSplit/./src/index.ts","webpack://ReactSplit/./src/utils/assert.ts","webpack://ReactSplit/./src/utils/toCSSPx.ts","webpack://ReactSplit/./node_modules/@ishikawa_masashi/cassowary/lib/index.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/cassowary/lib/solver.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/useActive/index.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/useClickOutside/index.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/useFocus/index.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/useHover/index.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/useMousePosition/index.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/useResizeObserver/index.js","webpack://ReactSplit/./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack://ReactSplit/(webpack)/buildin/global.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/useTouch/index.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/useWindowResize/index.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/useMount/index.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/useUnmount/index.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/useStateful.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/useArray.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/array/useArray.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/useMap.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/array/useMap.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/useHotkeys.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/arraysAreEqual.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/getActiveModifierKeys.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/getHotkeysArray.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/isSameSet.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/mapModifierKeys.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/modifierKeyPressed.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/tail.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/helpers/takeUntilLast.js","webpack://ReactSplit/./node_modules/@ishikawa_masashi/react-hooks/lib/usePrevious.js","webpack://ReactSplit/./src/components/SplitPane.tsx","webpack://ReactSplit/./src/components/Resizer.tsx","webpack://ReactSplit/./src/hooks/useSplits.ts","webpack://ReactSplit/./src/components/SplitView.tsx"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","SplitOrientation","props","setState","children","orientation","onChange","defaultSplit","containerRef","useRef","indexRef","solverRef","varsRef","splitsRef","width","height","isHorizontal","useMemo","Horizontal","forceUpdate","useEffect","document","addEventListener","onResizerMouseMove","onResizerMouseUp","removeEventListener","onResize","useCallback","newSplits","canonicalizeSplits","setupSolver","getContainerSize","querySolver","current","count","newChildren","documentElement","style","pointerEvents","slice","e","vars","isVertical","Vertical","rect","getBoundingClientRect","mouseOffset","clientX","left","clientY","top","index","solver","suggestValue","updateVariables","preventDefault","splits","length","React","Children","containerSize","result","info","assign","push","min","max","Variable","Solver","addEditVariable","Strength","strong","cn","Constraint","Operator","Eq","addConstraint","right","minus","Ge","Le","weak","suggestVarValues","x","y","className","ref","flexDirection","forEach","child","flexBasis","Math","round","flex","onMouseDown","ev","varilable","removeEditVariable","medium","onResizerMouseDown","maptype_1","variable_1","Expression","parsed","parseArgs","arguments","this","_terms","terms","_constant","constant","size","pair","itemAt","first","second","plus","multiply","coefficient","divide","isConstant","toString","array","map","join","args","createMap","item","setDefault","j","k","terms2","termPair","Array","Error","value2","a","b","w","clip","required","react_1","default","effect","expression_1","strength_1","expression","operator","rhs","strength","_id","CnId","_operator","_strength","undefined","_expression","id","op","IndexedMap","empty","contains","find","Pair","insert","erase","last","pop","copy","_value","_context","VarId","_name","setName","context","setContext","setValue","toJSON","index_1","useActive","index_2","useClickOutside","index_3","useFocus","index_4","useHover","index_5","useMousePosition","index_6","useResizeObserver","index_7","useTouch","index_8","useWindowResize","index_9","useEffectOnce","index_10","useMount","index_11","useUnmount","useStateful_1","useStateful","useArray_1","useArray","useMap_1","useMap","useHotkeys_1","useHotkeys","usePrevious_1","usePrevious","message","__export","SymbolType","constraint_1","_cnMap","_rowMap","_varMap","_editMap","_infeasibleRows","_objective","Row","_artificial","_idTick","createConstraint","lhs","constraint","data","_createRow","row","tag","subject","_chooseSubject","type","Invalid","allDummies","nearZero","marker","_addWithArtificialVariable","solveFor","_substitute","_optimize","removeConstraint","cnPair","_removeConstraintEffects","rowPair","leaving","_getMarkerLeavingSymbol","solveForEx","hasConstraint","variable","expr","editPair","hasEditVariable","rows","delta","add","_dualOptimize","other","rowPair_1","coeff","coefficientFor","External","_getVarSymbol","_this","_makeSymbol","symbol","basicPair","insertRow","insertSymbol","objective","INVALID_SYMBOL","slack","Slack","error","errplus","errminus","dummy","Dummy","reverseSign","cells","art","success","basicRow","entering","_anyPivotableSymbol","removeSymbol","substitute","_getEnteringSymbol","_getLeavingSymbol","infeasible","_getDualEnteringSymbol","ratio","Number","MAX_VALUE","found","temp","temp_ratio","dmax","r1","r2","invalid","third","_removeMarkerEffects","_type","_cellMap","theCopy","_a","useState","isActive","setActive","onMouseUp","refs","onClickOutside","isOutside","target","every","Boolean","mousedown","mouseup","__importDefault","mod","isFocused","setFocused","onFocus","onBlur","isHovered","setHovered","onMouseEnter","onMouseLeave","setX","_b","setY","onMouseMove","nativeEvent","offsetX","offsetY","resize_observer_polyfill_1","setWidth","setHeight","useLayoutEffect","resizeObserver","entries","contentRect","observe","disconnect","MapShim","Map","getIndex","arr","some","entry","class_1","__entries__","configurable","set","delete","splice","has","clear","callback","ctx","_i","isBrowser","global$1","global","self","Function","requestAnimationFrame$1","requestAnimationFrame","setTimeout","Date","now","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","indexOf","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","filter","gatherActive","hasActive","broadcastActive","attributes","childList","characterData","subtree","propertyName","getInstance","instance_","defineConfigurable","keys","writable","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","reduce","position","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","vertPad","bottom","boxSizing","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","broadcastRect","ResizeObserverEntry","rectInit","Constr","DOMRectReadOnly","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","TypeError","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","WeakMap","ResizeObserver","method","apply","g","isTouched","setTouched","onTouchStart","onTouchEnd","innerWidth","innerHeight","resize","useEffectOnce_1","fn","fnRef","initial","__assign","actions","__spreadArrays","il","jl","v","isArray","unshift","shift","move","from","to","it","removeById","removeIndex","modifyById","newValue","updateAt","insertAt","initialState","setMap","aMap","deleteByKey","_map","initialize","mapOrTuple","remove","arraysAreEqual_1","getActiveModifierKeys_1","getHotkeysArray_1","isSameSet_1","mapModifierKeys_1","modifierKeyPressed_1","tail_1","takeUntilLast_1","hotkeys","hotkeysArray","keySequences","sequenceTimers","clearSequenceTimer","clearTimeout","resetKeySequence","onKeydown","event","keysArray","actionKey","modKeys","activeModKeys","toLowerCase","handleModifierCombo","keySequence","handleKeySequence","arr1","arr2","modifiers","ctrlKey","shiftKey","altKey","metaKey","hkeys","includes","replace","split","match","modiferKeyMap","control","alt","meta","resizerClassName","initialValue","SplitView","forwardRef","sizes","useImperativeHandle","getSizes"],"mappings":"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","file":"ReactSplit.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactSplit\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactSplit\"] = factory(root[\"react\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import * as React from 'react';\nimport { useState, useEffect, useRef, useCallback, useMemo } from 'react';\n\nimport assert from '../utils/assert';\n\nimport toCSSPx from '../utils/toCSSPx';\n\nimport {\n  Solver,\n  Variable,\n  Strength,\n  Constraint,\n  Operator,\n} from '@ishikawa_masashi/cassowary';\n\nimport { useResizeObserver } from '@ishikawa_masashi/react-hooks';\n\nimport SplitPane from './SplitPane';\nimport Resizer from './Resizer';\n\nexport enum SplitOrientation {\n  Horizontal,\n  Vertical,\n}\n\nexport interface SplitInfo {\n  min?: number;\n  max?: number;\n  value?: number;\n  resize?: 'fixed' | 'stretch';\n}\n\ntype Props = {\n  orientation: SplitOrientation;\n  onChange?: (splits: SplitInfo[]) => void;\n  splits: SplitInfo[];\n  defaultSplit?: SplitInfo;\n  children: React.ReactNode;\n  name?: string; // TODO: Remove, for debugging.\n};\n\nexport default function Split(props: Props) {\n  const {\n    children,\n    orientation,\n    onChange = (splits: SplitInfo[]) => {},\n    defaultSplit,\n  } = props;\n\n  const containerRef = useRef<HTMLDivElement>(null);\n  const indexRef = useRef(-1);\n  const solverRef = useRef<Solver>();\n  const varsRef = useRef<Variable[]>();\n  const splitsRef = useRef<SplitInfo[]>([]);\n\n  const [width, height] = useResizeObserver(containerRef);\n\n  const isHorizontal = useMemo(\n    () => orientation === SplitOrientation.Horizontal,\n    [orientation]\n  );\n\n  const useForceUpdate = () => {\n    const [, setState] = useState();\n    return () => setState({});\n  };\n  const forceUpdate = useForceUpdate();\n\n  useEffect(() => {\n    document.addEventListener('mousemove', onResizerMouseMove as any);\n    document.addEventListener('mouseup', onResizerMouseUp);\n\n    return () => {\n      document.removeEventListener('mousemove', onResizerMouseMove as any);\n      document.removeEventListener('mouseup', onResizerMouseUp);\n    };\n  }, []);\n\n  const onResize = useCallback(() => {\n    if (width && height) {\n      onResizerMouseUp();\n      const newSplits = canonicalizeSplits();\n      setupSolver(newSplits, getContainerSize());\n      querySolver(newSplits);\n      splitsRef.current = newSplits;\n\n      onChange(newSplits);\n    }\n  }, [width, height]);\n\n  useEffect(() => {\n    onResize();\n  }, [width, height]);\n\n  useEffect(() => {\n    onResizerMouseUp();\n    const newSplits = canonicalizeSplits();\n    setupSolver(newSplits, getContainerSize());\n    querySolver(newSplits);\n    splitsRef.current = newSplits;\n    forceUpdate();\n  }, [props]);\n\n  const onResizerMouseDown = (i: number) => {\n    indexRef.current = i;\n    const index = indexRef.current;\n    const vars = varsRef.current!;\n    const solver = solverRef.current!;\n    const varilable = vars[index + 1];\n    solver.removeEditVariable(varilable);\n    solver.addEditVariable(varilable, Strength.medium);\n    // Split.onResizeBegin.dispatch(this);\n    window.document.documentElement.style.pointerEvents = 'none';\n  };\n\n  /**\n   * This fires for all splits, even if the resizer doesn't belong to this split.\n   */\n  const onResizerMouseUp = () => {\n    if (indexRef.current < 0) {\n      return;\n    }\n    indexRef.current = -1;\n    // Split.onResizeEnd.dispatch(this);\n    window.document.documentElement.style.pointerEvents = 'auto';\n    const newSplits = splitsRef.current.slice();\n    querySolver(newSplits);\n    onChange(newSplits);\n  };\n\n  const onResizerMouseMove = (e: React.MouseEvent<any>) => {\n    if (indexRef.current < 0) {\n      return;\n    }\n    const vars = varsRef.current!;\n    const isVertical = props.orientation === SplitOrientation.Vertical;\n    const container = containerRef.current!;\n    const rect = container.getBoundingClientRect();\n    const mouseOffset = isVertical\n      ? e.clientX - rect.left\n      : e.clientY - rect.top;\n\n    const index = indexRef.current;\n    const solver = solverRef.current!;\n    solver.suggestValue(vars[index + 1], mouseOffset);\n    // this.solver.resolve();\n    solver.updateVariables();\n    const newSplits = splitsRef.current.slice();\n    querySolver(newSplits);\n    forceUpdate();\n    // onChange(newSplits);\n    e.preventDefault();\n  };\n\n  const querySolver = (splits: SplitInfo[]) => {\n    const vars = varsRef.current!;\n    for (let i = 0; i < splits.length; i++) {\n      splits[i].value = vars[i + 1].value() - vars[i].value();\n    }\n  };\n\n  // const getContainerSize = useCallback(\n  //   (orientation: SplitOrientation) =>\n  //     orientation === SplitOrientation.Horizontal ? height : width,\n  //   [width, height]\n  // );\n  const getContainerSize = useCallback(\n    () => (orientation === SplitOrientation.Horizontal ? height : width),\n    [width, height, orientation]\n  );\n\n  const canonicalizeSplits = useCallback((): SplitInfo[] => {\n    const count = React.Children.count(children);\n    const containerSize = getContainerSize();\n    const result = [];\n    for (let i = 0; i < count; i++) {\n      let info = {};\n      if (props.splits && i < props.splits.length) {\n        info = Object.assign(info, props.splits[i]);\n      }\n      if (defaultSplit) {\n        info = Object.assign(defaultSplit, info);\n      }\n\n      result.push(\n        Object.assign(\n          {\n            min: 32,\n            max: containerSize,\n          },\n          info\n        )\n      );\n    }\n    return result;\n  }, [children, orientation, props.splits, defaultSplit]);\n\n  /**\n   * Initializes a Cassowary solver and the constraints based on split infos and container size.\n   */\n  const setupSolver = (splits: SplitInfo[], containerSize: number) => {\n    assert(indexRef.current < 0, 'Should not be in a dragging state.');\n    //const weak = Cassowary.Strength.weak;\n    //// const medium = Cassowary.Strength.medium;\n    //const strong = Cassowary.Strength.strong;\n    //const required = Cassowary.Strength.required;\n\n    ////function eq(a1: any, a2: any, strength: number, weight?: number) {\n    ////    return new Cassowary.Equation(a1, a2, strength || weak, weight || 0);\n    ////}\n\n    //function geq(a1: any, a2: any, strength: any, weight?: number) {\n    //  return new Cassowary.Inequality(a1, Cassowary.GEQ, a2, strength, weight);\n    //}\n\n    //function leq(a1: any, a2: any, strength: any, weight?: number) {\n    //  return new Cassowary.Inequality(a1, Cassowary.LEQ, a2, strength, weight);\n    //}\n\n    // f     1               2           3   ...    l\n    // |-----|---------------|-----------|----------|\n\n    // const vars: CassowaryVar[] = this.vars = [new Cassowary.Variable()];\n    varsRef.current = [new Variable()];\n    const vars = varsRef.current;\n    solverRef.current = new Solver();\n    const solver = solverRef.current;\n\n    // Create Cassowary variables, these the dragged position as an offset from the origin.\n    for (let i = 0; i < splits.length; i++) {\n      vars.push(new Variable());\n    }\n\n    solver.addEditVariable(vars[0], Strength.strong);\n    solver.suggestValue(vars[0], 0);\n\n    let cn = new Constraint(vars[0], Operator.Eq, 0);\n    solver.addConstraint(cn);\n\n    solver.addEditVariable(vars[vars.length - 1], Strength.strong);\n    solver.suggestValue(vars[vars.length - 1], containerSize);\n\n    cn = new Constraint(vars[vars.length - 1], Operator.Eq, containerSize);\n    solver.addConstraint(cn);\n\n    for (let i = 0; i < vars.length - 1; i++) {\n      const { min, max } = splits[i];\n      const left = vars[i];\n      const right = vars[i + 1];\n      solver.addConstraint(\n        new Constraint(right.minus(left), Operator.Ge, min, Strength.strong)\n      );\n      solver.addConstraint(\n        new Constraint(right.minus(left), Operator.Le, max, Strength.strong)\n      );\n    }\n\n    // Add stays for the variables representing the dragged panes. This causes them to\n    // try and remain in their dragged position unless the constraints prevent that.\n    for (let i = 1; i < vars.length - 1; i++) {\n      // solver.addStay(vars[i], weak);\n      solver.addEditVariable(vars[i], Strength.weak);\n      solver.suggestValue(vars[i], 10000);\n    }\n\n    suggestVarValues(splits);\n  };\n\n  const suggestVarValues = (splits: SplitInfo[]) => {\n    const vars = varsRef.current!;\n    const solver = solverRef.current!;\n    for (let i = 0; i < vars.length - 1; i++) {\n      const x = vars[i];\n      const y = vars[i + 1];\n\n      if (splits[i].value) {\n        if (i < vars.length - 2) {\n          solver.suggestValue(y, x.value() + splits[i].value!);\n        } else {\n          solver.suggestValue(x, y.value() - splits[i].value!);\n        }\n        solver.updateVariables();\n      }\n    }\n  };\n\n  const getChildren = () => {\n    const count = React.Children.count(children);\n    const newChildren: React.ReactNode[] = [];\n    React.Children.forEach(children, (child, i) => {\n      const style: React.CSSProperties = {};\n      if (i < count - 1 && i < splitsRef.current.length) {\n        style.flexBasis = toCSSPx(\n          Math.round(splitsRef.current[i].value as number)\n        );\n      } else {\n        style.flex = 1;\n      }\n\n      newChildren.push(<SplitPane key={i} style={style} child={child} />);\n      if (i < count - 1) {\n        newChildren.push(\n          <Resizer\n            key={`Resizer-${i}`}\n            orientation={orientation}\n            onMouseDown={(ev) => onResizerMouseDown(i)}\n          />\n        );\n      }\n    });\n    return newChildren;\n  };\n\n  // const splitPanes = useMemo(() => {}, []);\n\n  return (\n    <div\n      className=\"split\"\n      ref={containerRef}\n      style={{ flexDirection: isHorizontal ? 'column' : 'row' }}\n    >\n      {getChildren()}\n    </div>\n  );\n}\n","\"use strict\";\r\n/*-----------------------------------------------------------------------------\r\n| Copyright (c) 2014, Nucleic Development Team.\r\n|\r\n| Distributed under the terms of the Modified BSD License.\r\n|\r\n| The full license is in the file COPYING.txt, distributed with this software.\r\n|----------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar maptype_1 = require(\"./maptype\");\r\nvar variable_1 = require(\"./variable\");\r\n/**\r\n * An expression of variable terms and a constant.\r\n *\r\n * The constructor accepts an arbitrary number of parameters,\r\n * each of which must be one of the following types:\r\n *  - number\r\n *  - Variable\r\n *  - Expression\r\n *  - 2-tuple of [number, Variable|Expression]\r\n *\r\n * The parameters are summed. The tuples are multiplied.\r\n *\r\n * @class\r\n * @param {...(number|Variable|Expression|Array)} args\r\n */\r\nvar Expression = /** @class */ (function () {\r\n    function Expression() {\r\n        var parsed = parseArgs(arguments);\r\n        this._terms = parsed.terms;\r\n        this._constant = parsed.constant;\r\n    }\r\n    /**\r\n     * Returns the mapping of terms in the expression.\r\n     *\r\n     * This *must* be treated as const.\r\n     * @private\r\n     */\r\n    Expression.prototype.terms = function () {\r\n        return this._terms;\r\n    };\r\n    /**\r\n     * Returns the constant of the expression.\r\n     * @private\r\n     */\r\n    Expression.prototype.constant = function () {\r\n        return this._constant;\r\n    };\r\n    /**\r\n     * Returns the computed value of the expression.\r\n     *\r\n     * @private\r\n     * @return {Number} computed value of the expression\r\n     */\r\n    Expression.prototype.value = function () {\r\n        var result = this._constant;\r\n        for (var i = 0, n = this._terms.size(); i < n; i++) {\r\n            var pair = this._terms.itemAt(i);\r\n            result += pair.first.value() * pair.second;\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Creates a new Expression by adding a number, variable or expression\r\n     * to the expression.\r\n     *\r\n     * @param {Number|Variable|Expression} value Value to add.\r\n     * @return {Expression} expression\r\n     */\r\n    Expression.prototype.plus = function (value) {\r\n        return new Expression(this, value);\r\n    };\r\n    /**\r\n     * Creates a new Expression by substracting a number, variable or expression\r\n     * from the expression.\r\n     *\r\n     * @param {Number|Variable|Expression} value Value to substract.\r\n     * @return {Expression} expression\r\n     */\r\n    Expression.prototype.minus = function (value) {\r\n        return new Expression(this, typeof value === 'number' ? -value : [-1, value]);\r\n    };\r\n    /**\r\n     * Creates a new Expression by multiplying with a fixed number.\r\n     *\r\n     * @param {Number} coefficient Coefficient to multiply with.\r\n     * @return {Expression} expression\r\n     */\r\n    Expression.prototype.multiply = function (coefficient) {\r\n        return new Expression([coefficient, this]);\r\n    };\r\n    /**\r\n     * Creates a new Expression by dividing with a fixed number.\r\n     *\r\n     * @param {Number} coefficient Coefficient to divide by.\r\n     * @return {Expression} expression\r\n     */\r\n    Expression.prototype.divide = function (coefficient) {\r\n        return new Expression([1 / coefficient, this]);\r\n    };\r\n    Expression.prototype.isConstant = function () {\r\n        return this._terms.size() == 0;\r\n    };\r\n    Expression.prototype.toString = function () {\r\n        var result = this._terms.array\r\n            .map(function (pair) {\r\n            return pair.second + '*' + pair.first.toString();\r\n        })\r\n            .join(' + ');\r\n        if (!this.isConstant() && this._constant !== 0) {\r\n            result += ' + ';\r\n        }\r\n        result += this._constant;\r\n        return result;\r\n    };\r\n    return Expression;\r\n}());\r\nexports.Expression = Expression;\r\n/**\r\n * An internal argument parsing function.\r\n * @private\r\n */\r\nfunction parseArgs(args) {\r\n    var constant = 0.0;\r\n    var factory = function () { return 0.0; };\r\n    var terms = maptype_1.createMap();\r\n    for (var i = 0, n = args.length; i < n; ++i) {\r\n        var item = args[i];\r\n        if (typeof item === 'number') {\r\n            constant += item;\r\n        }\r\n        else if (item instanceof variable_1.Variable) {\r\n            terms.setDefault(item, factory).second += 1.0;\r\n        }\r\n        else if (item instanceof Expression) {\r\n            constant += item.constant();\r\n            var terms2 = item.terms();\r\n            for (var j = 0, k = terms2.size(); j < k; j++) {\r\n                var termPair = terms2.itemAt(j);\r\n                terms.setDefault(termPair.first, factory).second += termPair.second;\r\n            }\r\n        }\r\n        else if (item instanceof Array) {\r\n            if (item.length !== 2) {\r\n                throw new Error('array must have length 2');\r\n            }\r\n            var value = item[0];\r\n            var value2 = item[1];\r\n            if (typeof value !== 'number') {\r\n                throw new Error('array item 0 must be a number');\r\n            }\r\n            if (value2 instanceof variable_1.Variable) {\r\n                terms.setDefault(value2, factory).second += value;\r\n            }\r\n            else if (value2 instanceof Expression) {\r\n                constant += value2.constant() * value;\r\n                var terms2 = value2.terms();\r\n                for (var j = 0, k = terms2.size(); j < k; j++) {\r\n                    var termPair = terms2.itemAt(j);\r\n                    terms.setDefault(termPair.first, factory).second +=\r\n                        termPair.second * value;\r\n                }\r\n            }\r\n            else {\r\n                throw new Error('array item 1 must be a variable or expression');\r\n            }\r\n        }\r\n        else {\r\n            throw new Error('invalid Expression argument: ' + item);\r\n        }\r\n    }\r\n    return { terms: terms, constant: constant };\r\n}\r\n//# sourceMappingURL=expression.js.map","\"use strict\";\r\n/*-----------------------------------------------------------------------------\r\n| Copyright (c) 2014, Nucleic Development Team.\r\n|\r\n| Distributed under the terms of the Modified BSD License.\r\n|\r\n| The full license is in the file COPYING.txt, distributed with this software.\r\n|----------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * @class Strength\r\n */\r\nvar Strength = /** @class */ (function () {\r\n    function Strength() {\r\n    }\r\n    /**\r\n     * Create a new symbolic strength.\r\n     *\r\n     * @param a strong\r\n     * @param b medium\r\n     * @param c weak\r\n     * @param [w] weight\r\n     * @return strength\r\n     */\r\n    Strength.create = function (a, b, c, w) {\r\n        if (w === void 0) { w = 1.0; }\r\n        var result = 0.0;\r\n        result += Math.max(0.0, Math.min(1000.0, a * w)) * 1000000.0;\r\n        result += Math.max(0.0, Math.min(1000.0, b * w)) * 1000.0;\r\n        result += Math.max(0.0, Math.min(1000.0, c * w));\r\n        return result;\r\n    };\r\n    /**\r\n     * Clip a symbolic strength to the allowed min and max.\r\n     * @private\r\n     */\r\n    Strength.clip = function (value) {\r\n        return Math.max(0.0, Math.min(Strength.required, value));\r\n    };\r\n    /**\r\n     * The 'required' symbolic strength.\r\n     */\r\n    Strength.required = Strength.create(1000.0, 1000.0, 1000.0);\r\n    /**\r\n     * The 'strong' symbolic strength.\r\n     */\r\n    Strength.strong = Strength.create(1.0, 0.0, 0.0);\r\n    /**\r\n     * The 'medium' symbolic strength.\r\n     */\r\n    Strength.medium = Strength.create(0.0, 1.0, 0.0);\r\n    /**\r\n     * The 'weak' symbolic strength.\r\n     */\r\n    Strength.weak = Strength.create(0.0, 0.0, 1.0);\r\n    return Strength;\r\n}());\r\nexports.Strength = Strength;\r\n//# sourceMappingURL=strength.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nvar useEffectOnce = function (effect) {\r\n    react_1.useEffect(effect, []);\r\n};\r\nexports.default = useEffectOnce;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\n/*-----------------------------------------------------------------------------\r\n| Copyright (c) 2014, Nucleic Development Team.\r\n|\r\n| Distributed under the terms of the Modified BSD License.\r\n|\r\n| The full license is in the file COPYING.txt, distributed with this software.\r\n|----------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar expression_1 = require(\"./expression\");\r\nvar strength_1 = require(\"./strength\");\r\n/**\r\n * An enum defining the linear constraint operators.\r\n *\r\n * |Value|Operator|Description|\r\n * |----|-----|-----|\r\n * |`Le`|<=|Less than equal|\r\n * |`Ge`|>=|Greater than equal|\r\n * |`Eq`|==|Equal|\r\n *\r\n * @enum {Number}\r\n */\r\nvar Operator;\r\n(function (Operator) {\r\n    Operator[Operator[\"Le\"] = 0] = \"Le\";\r\n    Operator[Operator[\"Ge\"] = 1] = \"Ge\";\r\n    Operator[Operator[\"Eq\"] = 2] = \"Eq\"; // ==\r\n})(Operator = exports.Operator || (exports.Operator = {}));\r\n/**\r\n * A linear constraint equation.\r\n *\r\n * A constraint equation is composed of an expression, an operator,\r\n * and a strength. The RHS of the equation is implicitly zero.\r\n *\r\n * @class\r\n * @param {Expression} expression The constraint expression (LHS).\r\n * @param {Operator} operator The equation operator.\r\n * @param {Expression} [rhs] Right hand side of the expression.\r\n * @param {Number} [strength=Strength.required] The strength of the constraint.\r\n */\r\nvar Constraint = /** @class */ (function () {\r\n    function Constraint(expression, operator, rhs, strength) {\r\n        if (strength === void 0) { strength = strength_1.Strength.required; }\r\n        this._id = CnId++;\r\n        this._operator = operator;\r\n        this._strength = strength_1.Strength.clip(strength);\r\n        if (rhs === undefined && expression instanceof expression_1.Expression) {\r\n            this._expression = expression;\r\n        }\r\n        else {\r\n            this._expression = expression.minus(rhs);\r\n        }\r\n    }\r\n    /**\r\n     * Returns the unique id number of the constraint.\r\n     * @private\r\n     */\r\n    Constraint.prototype.id = function () {\r\n        return this._id;\r\n    };\r\n    /**\r\n     * Returns the expression of the constraint.\r\n     *\r\n     * @return {Expression} expression\r\n     */\r\n    Constraint.prototype.expression = function () {\r\n        return this._expression;\r\n    };\r\n    /**\r\n     * Returns the relational operator of the constraint.\r\n     *\r\n     * @return {Operator} linear constraint operator\r\n     */\r\n    Constraint.prototype.op = function () {\r\n        return this._operator;\r\n    };\r\n    /**\r\n     * Returns the strength of the constraint.\r\n     *\r\n     * @return {Number} strength\r\n     */\r\n    Constraint.prototype.strength = function () {\r\n        return this._strength;\r\n    };\r\n    Constraint.prototype.toString = function () {\r\n        return (this._expression.toString() +\r\n            ' ' +\r\n            ['<=', '>=', '='][this._operator] +\r\n            ' 0 (' +\r\n            this._strength.toString() +\r\n            ')');\r\n    };\r\n    return Constraint;\r\n}());\r\nexports.Constraint = Constraint;\r\n/**\r\n * The internal constraint id counter.\r\n * @private\r\n */\r\nvar CnId = 0;\r\n//# sourceMappingURL=constraint.js.map","\"use strict\";\r\n/*-----------------------------------------------------------------------------\r\n| Copyright (c) 2014, Nucleic Development Team.\r\n|\r\n| Distributed under the terms of the Modified BSD License.\r\n|\r\n| The full license is in the file COPYING.txt, distributed with this software.\r\n|----------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction createMap() {\r\n    return new IndexedMap();\r\n}\r\nexports.createMap = createMap;\r\nvar IndexedMap = /** @class */ (function () {\r\n    function IndexedMap() {\r\n        this.index = {};\r\n        this.array = [];\r\n    }\r\n    /**\r\n     * Returns the number of items in the array.\r\n     */\r\n    IndexedMap.prototype.size = function () {\r\n        return this.array.length;\r\n    };\r\n    /**\r\n     * Returns true if the array is empty.\r\n     */\r\n    IndexedMap.prototype.empty = function () {\r\n        return this.array.length === 0;\r\n    };\r\n    /**\r\n     * Returns the item at the given array index.\r\n     *\r\n     * @param index The integer index of the desired item.\r\n     */\r\n    IndexedMap.prototype.itemAt = function (index) {\r\n        return this.array[index];\r\n    };\r\n    /**\r\n     * Returns true if the key is in the array, false otherwise.\r\n     *\r\n     * @param key The key to locate in the array.\r\n     */\r\n    IndexedMap.prototype.contains = function (key) {\r\n        return this.index[key.id()] !== undefined;\r\n    };\r\n    /**\r\n     * Returns the pair associated with the given key, or undefined.\r\n     *\r\n     * @param key The key to locate in the array.\r\n     */\r\n    IndexedMap.prototype.find = function (key) {\r\n        var i = this.index[key.id()];\r\n        return i === undefined ? undefined : this.array[i];\r\n    };\r\n    /**\r\n     * Returns the pair associated with the key if it exists.\r\n     *\r\n     * If the key does not exist, a new pair will be created and\r\n     * inserted using the value created by the given factory.\r\n     *\r\n     * @param key The key to locate in the array.\r\n     * @param factory The function which creates the default value.\r\n     */\r\n    IndexedMap.prototype.setDefault = function (key, factory) {\r\n        var i = this.index[key.id()];\r\n        if (i === undefined) {\r\n            var pair = new Pair(key, factory());\r\n            this.index[key.id()] = this.array.length;\r\n            this.array.push(pair);\r\n            return pair;\r\n        }\r\n        else {\r\n            return this.array[i];\r\n        }\r\n    };\r\n    /**\r\n     * Insert the pair into the array and return the pair.\r\n     *\r\n     * This will overwrite any existing entry in the array.\r\n     *\r\n     * @param key The key portion of the pair.\r\n     * @param value The value portion of the pair.\r\n     */\r\n    IndexedMap.prototype.insert = function (key, value) {\r\n        var pair = new Pair(key, value);\r\n        var i = this.index[key.id()];\r\n        if (i === undefined) {\r\n            this.index[key.id()] = this.array.length;\r\n            this.array.push(pair);\r\n        }\r\n        else {\r\n            this.array[i] = pair;\r\n        }\r\n        return pair;\r\n    };\r\n    /**\r\n     * Removes and returns the pair for the given key, or undefined.\r\n     *\r\n     * @param key The key to remove from the map.\r\n     */\r\n    IndexedMap.prototype.erase = function (key) {\r\n        var i = this.index[key.id()];\r\n        if (i === undefined) {\r\n            return undefined;\r\n        }\r\n        this.index[key.id()] = undefined;\r\n        var pair = this.array[i];\r\n        var last = this.array.pop();\r\n        if (pair !== last) {\r\n            this.array[i] = last;\r\n            this.index[last.first.id()] = i;\r\n        }\r\n        return pair;\r\n    };\r\n    /**\r\n     * Create a copy of this associative array.\r\n     */\r\n    IndexedMap.prototype.copy = function () {\r\n        var copy = new IndexedMap();\r\n        for (var i = 0; i < this.array.length; i++) {\r\n            var pair = this.array[i].copy();\r\n            copy.array[i] = pair;\r\n            copy.index[pair.first.id()] = i;\r\n        }\r\n        return copy;\r\n    };\r\n    return IndexedMap;\r\n}());\r\n/**\r\n * A class which defines a generic pair object.\r\n * @private\r\n */\r\n// tslint:disable: max-classes-per-file\r\nvar Pair = /** @class */ (function () {\r\n    /**\r\n     * Construct a new Pair object.\r\n     *\r\n     * @param first The first item of the pair.\r\n     * @param second The second item of the pair.\r\n     */\r\n    function Pair(first, second) {\r\n        this.first = first;\r\n        this.second = second;\r\n    }\r\n    /**\r\n     * Create a copy of the pair.\r\n     */\r\n    Pair.prototype.copy = function () {\r\n        return new Pair(this.first, this.second);\r\n    };\r\n    return Pair;\r\n}());\r\n//# sourceMappingURL=maptype.js.map","\"use strict\";\r\n/*-----------------------------------------------------------------------------\r\n| Copyright (c) 2014, Nucleic Development Team.\r\n|\r\n| Distributed under the terms of the Modified BSD License.\r\n|\r\n| The full license is in the file COPYING.txt, distributed with this software.\r\n|----------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar expression_1 = require(\"./expression\");\r\n/**\r\n * The primary user constraint variable.\r\n *\r\n * @class\r\n * @param {String} [name=\"\"] The name to associated with the variable.\r\n */\r\nvar Variable = /** @class */ (function () {\r\n    function Variable(name) {\r\n        if (name === void 0) { name = ''; }\r\n        this._value = 0.0;\r\n        this._context = null;\r\n        this._id = VarId++;\r\n        this._name = name;\r\n    }\r\n    /**\r\n     * Returns the unique id number of the variable.\r\n     * @private\r\n     */\r\n    Variable.prototype.id = function () {\r\n        return this._id;\r\n    };\r\n    /**\r\n     * Returns the name of the variable.\r\n     *\r\n     * @return {String} name of the variable\r\n     */\r\n    Variable.prototype.name = function () {\r\n        return this._name;\r\n    };\r\n    /**\r\n     * Set the name of the variable.\r\n     *\r\n     * @param {String} name Name of the variable\r\n     */\r\n    Variable.prototype.setName = function (name) {\r\n        this._name = name;\r\n    };\r\n    /**\r\n     * Returns the user context object of the variable.\r\n     * @private\r\n     */\r\n    Variable.prototype.context = function () {\r\n        return this._context;\r\n    };\r\n    /**\r\n     * Set the user context object of the variable.\r\n     * @private\r\n     */\r\n    Variable.prototype.setContext = function (context) {\r\n        this._context = context;\r\n    };\r\n    /**\r\n     * Returns the value of the variable.\r\n     *\r\n     * @return {Number} Calculated value\r\n     */\r\n    Variable.prototype.value = function () {\r\n        return this._value;\r\n    };\r\n    /**\r\n     * Set the value of the variable.\r\n     * @private\r\n     */\r\n    Variable.prototype.setValue = function (value) {\r\n        this._value = value;\r\n    };\r\n    /**\r\n     * Creates a new Expression by adding a number, variable or expression\r\n     * to the variable.\r\n     *\r\n     * @param {Number|Variable|Expression} value Value to add.\r\n     * @return {Expression} expression\r\n     */\r\n    Variable.prototype.plus = function (value) {\r\n        return new expression_1.Expression(this, value);\r\n    };\r\n    /**\r\n     * Creates a new Expression by substracting a number, variable or expression\r\n     * from the variable.\r\n     *\r\n     * @param {Number|Variable|Expression} value Value to substract.\r\n     * @return {Expression} expression\r\n     */\r\n    Variable.prototype.minus = function (value) {\r\n        return new expression_1.Expression(this, typeof value === 'number' ? -value : [-1, value]);\r\n    };\r\n    /**\r\n     * Creates a new Expression by multiplying with a fixed number.\r\n     *\r\n     * @param {Number} coefficient Coefficient to multiply with.\r\n     * @return {Expression} expression\r\n     */\r\n    Variable.prototype.multiply = function (coefficient) {\r\n        return new expression_1.Expression([coefficient, this]);\r\n    };\r\n    /**\r\n     * Creates a new Expression by dividing with a fixed number.\r\n     *\r\n     * @param {Number} coefficient Coefficient to divide by.\r\n     * @return {Expression} expression\r\n     */\r\n    Variable.prototype.divide = function (coefficient) {\r\n        return new expression_1.Expression([1 / coefficient, this]);\r\n    };\r\n    /**\r\n     * Returns the JSON representation of the variable.\r\n     * @private\r\n     */\r\n    Variable.prototype.toJSON = function () {\r\n        return {\r\n            name: this._name,\r\n            value: this._value\r\n        };\r\n    };\r\n    Variable.prototype.toString = function () {\r\n        return this._context + '[' + this._name + ':' + this._value + ']';\r\n    };\r\n    return Variable;\r\n}());\r\nexports.Variable = Variable;\r\n/**\r\n * The internal variable id counter.\r\n * @private\r\n */\r\nvar VarId = 0;\r\n//# sourceMappingURL=variable.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar index_1 = require(\"./useActive/index\");\r\nexports.useActive = index_1.default;\r\nvar index_2 = require(\"./useClickOutside/index\");\r\nexports.useClickOutside = index_2.default;\r\nvar index_3 = require(\"./useFocus/index\");\r\nexports.useFocus = index_3.default;\r\nvar index_4 = require(\"./useHover/index\");\r\nexports.useHover = index_4.default;\r\nvar index_5 = require(\"./useMousePosition/index\");\r\nexports.useMousePosition = index_5.default;\r\nvar index_6 = require(\"./useResizeObserver/index\");\r\nexports.useResizeObserver = index_6.default;\r\nvar index_7 = require(\"./useTouch/index\");\r\nexports.useTouch = index_7.default;\r\nvar index_8 = require(\"./useWindowResize/index\");\r\nexports.useWindowResize = index_8.default;\r\nvar index_9 = require(\"./useEffectOnce/index\");\r\nexports.useEffectOnce = index_9.default;\r\nvar index_10 = require(\"./useMount/index\");\r\nexports.useMount = index_10.default;\r\nvar index_11 = require(\"./useUnmount/index\");\r\nexports.useUnmount = index_11.default;\r\nvar useStateful_1 = require(\"./useStateful\");\r\nexports.useStateful = useStateful_1.default;\r\nvar useArray_1 = require(\"./useArray\");\r\nexports.useArray = useArray_1.default;\r\nvar useMap_1 = require(\"./useMap\");\r\nexports.useMap = useMap_1.default;\r\nvar useHotkeys_1 = require(\"./useHotkeys\");\r\nexports.useHotkeys = useHotkeys_1.default;\r\nvar usePrevious_1 = require(\"./usePrevious\");\r\nexports.usePrevious = usePrevious_1.default;\r\n//# sourceMappingURL=index.js.map","import Split from './components/Split';\nexport { SplitOrientation } from './components/Split';\nexport { default as useSplits } from './hooks/useSplits';\nexport { SplitInfo } from './components/Split';\nexport { default as SplitView } from './components/SplitView';\n\nexport default Split;\n","export default function assert<T>(c: T, message?: string) {\n  if (!c) {\n    throw new Error(message);\n  }\n}\n","export default function toCSSPx(x: number) {\n  return (x | 0) + 'px';\n}\n","\"use strict\";\r\n/*-----------------------------------------------------------------------------\r\n| Copyright (c) 2014-2018, Nucleic Development Team & H. Rutjes.\r\n|\r\n| Distributed under the terms of the Modified BSD License.\r\n|\r\n| The full license is in the file COPYING.txt, distributed with this software.\r\n|----------------------------------------------------------------------------*/\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./constraint\"));\r\n__export(require(\"./expression\"));\r\n__export(require(\"./solver\"));\r\n__export(require(\"./strength\"));\r\n__export(require(\"./variable\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\n/*-----------------------------------------------------------------------------\r\n| Copyright (c) 2014, Nucleic Development Team.\r\n|\r\n| Distributed under the terms of the Modified BSD License.\r\n|\r\n| The full license is in the file COPYING.txt, distributed with this software.\r\n|----------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar constraint_1 = require(\"./constraint\");\r\nvar expression_1 = require(\"./expression\");\r\nvar maptype_1 = require(\"./maptype\");\r\nvar strength_1 = require(\"./strength\");\r\n/**\r\n * The constraint solver class.\r\n *\r\n * @class\r\n */\r\nvar Solver = /** @class */ (function () {\r\n    /**\r\n     * Construct a new Solver.\r\n     */\r\n    function Solver() {\r\n        this._cnMap = createCnMap();\r\n        this._rowMap = createRowMap();\r\n        this._varMap = createVarMap();\r\n        this._editMap = createEditMap();\r\n        this._infeasibleRows = [];\r\n        this._objective = new Row();\r\n        this._artificial = null;\r\n        this._idTick = 0;\r\n    }\r\n    /**\r\n     * Creates and add a constraint to the solver.\r\n     *\r\n     * @param {Expression|Variable} lhs Left hand side of the expression\r\n     * @param {Operator} operator Operator\r\n     * @param {Expression|Variable|Number} rhs Right hand side of the expression\r\n     * @param {Number} [strength=Strength.required] Strength\r\n     */\r\n    Solver.prototype.createConstraint = function (lhs, operator, rhs, strength) {\r\n        if (strength === void 0) { strength = strength_1.Strength.required; }\r\n        var cn = new constraint_1.Constraint(lhs, operator, rhs, strength);\r\n        this.addConstraint(cn);\r\n        return cn;\r\n    };\r\n    /**\r\n     * Add a constraint to the solver.\r\n     *\r\n     * @param {Constraint} constraint Constraint to add to the solver\r\n     */\r\n    Solver.prototype.addConstraint = function (constraint) {\r\n        var cnPair = this._cnMap.find(constraint);\r\n        if (cnPair !== undefined) {\r\n            throw new Error('duplicate constraint');\r\n        }\r\n        // Creating a row causes symbols to be reserved for the variables\r\n        // in the constraint. If this method exits with an exception,\r\n        // then its possible those variables will linger in the var map.\r\n        // Since its likely that those variables will be used in other\r\n        // constraints and since exceptional conditions are uncommon,\r\n        // i'm not too worried about aggressive cleanup of the var map.\r\n        var data = this._createRow(constraint);\r\n        var row = data.row;\r\n        var tag = data.tag;\r\n        var subject = this._chooseSubject(row, tag);\r\n        // If chooseSubject couldnt find a valid entering symbol, one\r\n        // last option is available if the entire row is composed of\r\n        // dummy variables. If the constant of the row is zero, then\r\n        // this represents redundant constraints and the new dummy\r\n        // marker can enter the basis. If the constant is non-zero,\r\n        // then it represents an unsatisfiable constraint.\r\n        if (subject.type() === SymbolType.Invalid && row.allDummies()) {\r\n            if (!nearZero(row.constant())) {\r\n                throw new Error('unsatisfiable constraint');\r\n            }\r\n            else {\r\n                subject = tag.marker;\r\n            }\r\n        }\r\n        // If an entering symbol still isn't found, then the row must\r\n        // be added using an artificial variable. If that fails, then\r\n        // the row represents an unsatisfiable constraint.\r\n        if (subject.type() === SymbolType.Invalid) {\r\n            if (!this._addWithArtificialVariable(row)) {\r\n                throw new Error('unsatisfiable constraint');\r\n            }\r\n        }\r\n        else {\r\n            row.solveFor(subject);\r\n            this._substitute(subject, row);\r\n            this._rowMap.insert(subject, row);\r\n        }\r\n        this._cnMap.insert(constraint, tag);\r\n        // Optimizing after each constraint is added performs less\r\n        // aggregate work due to a smaller average system size. It\r\n        // also ensures the solver remains in a consistent state.\r\n        this._optimize(this._objective);\r\n    };\r\n    /**\r\n     * Remove a constraint from the solver.\r\n     *\r\n     * @param {Constraint} constraint Constraint to remove from the solver\r\n     */\r\n    Solver.prototype.removeConstraint = function (constraint) {\r\n        var cnPair = this._cnMap.erase(constraint);\r\n        if (cnPair === undefined) {\r\n            throw new Error('unknown constraint');\r\n        }\r\n        // Remove the error effects from the objective function\r\n        // *before* pivoting, or substitutions into the objective\r\n        // will lead to incorrect solver results.\r\n        this._removeConstraintEffects(constraint, cnPair.second);\r\n        // If the marker is basic, simply drop the row. Otherwise,\r\n        // pivot the marker into the basis and then drop the row.\r\n        var marker = cnPair.second.marker;\r\n        var rowPair = this._rowMap.erase(marker);\r\n        if (rowPair === undefined) {\r\n            var leaving = this._getMarkerLeavingSymbol(marker);\r\n            if (leaving.type() === SymbolType.Invalid) {\r\n                throw new Error('failed to find leaving row');\r\n            }\r\n            rowPair = this._rowMap.erase(leaving);\r\n            rowPair.second.solveForEx(leaving, marker);\r\n            this._substitute(marker, rowPair.second);\r\n        }\r\n        // Optimizing after each constraint is removed ensures that the\r\n        // solver remains consistent. It makes the solver api easier to\r\n        // use at a small tradeoff for speed.\r\n        this._optimize(this._objective);\r\n    };\r\n    /**\r\n     * Test whether the solver contains the constraint.\r\n     *\r\n     * @param {Constraint} constraint Constraint to test for\r\n     * @return {Bool} true or false\r\n     */\r\n    Solver.prototype.hasConstraint = function (constraint) {\r\n        return this._cnMap.contains(constraint);\r\n    };\r\n    /**\r\n     * Add an edit variable to the solver.\r\n     *\r\n     * @param {Variable} variable Edit variable to add to the solver\r\n     * @param {Number} strength Strength, should be less than `Strength.required`\r\n     */\r\n    Solver.prototype.addEditVariable = function (variable, strength) {\r\n        var editPair = this._editMap.find(variable);\r\n        if (editPair !== undefined) {\r\n            throw new Error('duplicate edit variable');\r\n        }\r\n        strength = strength_1.Strength.clip(strength);\r\n        if (strength === strength_1.Strength.required) {\r\n            throw new Error('bad required strength');\r\n        }\r\n        var expr = new expression_1.Expression(variable);\r\n        var cn = new constraint_1.Constraint(expr, constraint_1.Operator.Eq, undefined, strength);\r\n        this.addConstraint(cn);\r\n        var tag = this._cnMap.find(cn).second;\r\n        var info = { tag: tag, constraint: cn, constant: 0.0 };\r\n        this._editMap.insert(variable, info);\r\n    };\r\n    /**\r\n     * Remove an edit variable from the solver.\r\n     *\r\n     * @param {Variable} variable Edit variable to remove from the solver\r\n     */\r\n    Solver.prototype.removeEditVariable = function (variable) {\r\n        var editPair = this._editMap.erase(variable);\r\n        if (editPair === undefined) {\r\n            throw new Error('unknown edit variable');\r\n        }\r\n        this.removeConstraint(editPair.second.constraint);\r\n    };\r\n    /**\r\n     * Test whether the solver contains the edit variable.\r\n     *\r\n     * @param {Variable} variable Edit variable to test for\r\n     * @return {Bool} true or false\r\n     */\r\n    Solver.prototype.hasEditVariable = function (variable) {\r\n        return this._editMap.contains(variable);\r\n    };\r\n    /**\r\n     * Suggest the value of an edit variable.\r\n     *\r\n     * @param {Variable} variable Edit variable to suggest a value for\r\n     * @param {Number} value Suggested value\r\n     */\r\n    Solver.prototype.suggestValue = function (variable, value) {\r\n        var editPair = this._editMap.find(variable);\r\n        if (editPair === undefined) {\r\n            throw new Error('unknown edit variable');\r\n        }\r\n        var rows = this._rowMap;\r\n        var info = editPair.second;\r\n        var delta = value - info.constant;\r\n        info.constant = value;\r\n        // Check first if the positive error variable is basic.\r\n        var marker = info.tag.marker;\r\n        var rowPair = rows.find(marker);\r\n        if (rowPair !== undefined) {\r\n            if (rowPair.second.add(-delta) < 0.0) {\r\n                this._infeasibleRows.push(marker);\r\n            }\r\n            this._dualOptimize();\r\n            return;\r\n        }\r\n        // Check next if the negative error variable is basic.\r\n        var other = info.tag.other;\r\n        rowPair = rows.find(other);\r\n        if (rowPair !== undefined) {\r\n            if (rowPair.second.add(delta) < 0.0) {\r\n                this._infeasibleRows.push(other);\r\n            }\r\n            this._dualOptimize();\r\n            return;\r\n        }\r\n        // Otherwise update each row where the error variables exist.\r\n        for (var i = 0, n = rows.size(); i < n; ++i) {\r\n            var rowPair_1 = rows.itemAt(i);\r\n            var row = rowPair_1.second;\r\n            var coeff = row.coefficientFor(marker);\r\n            if (coeff !== 0.0 &&\r\n                row.add(delta * coeff) < 0.0 &&\r\n                rowPair_1.first.type() !== SymbolType.External) {\r\n                this._infeasibleRows.push(rowPair_1.first);\r\n            }\r\n        }\r\n        this._dualOptimize();\r\n    };\r\n    /**\r\n     * Update the values of the variables.\r\n     */\r\n    Solver.prototype.updateVariables = function () {\r\n        var vars = this._varMap;\r\n        var rows = this._rowMap;\r\n        for (var i = 0, n = vars.size(); i < n; ++i) {\r\n            var pair = vars.itemAt(i);\r\n            var rowPair = rows.find(pair.second);\r\n            if (rowPair !== undefined) {\r\n                pair.first.setValue(rowPair.second.constant());\r\n            }\r\n            else {\r\n                pair.first.setValue(0.0);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Get the symbol for the given variable.\r\n     *\r\n     * If a symbol does not exist for the variable, one will be created.\r\n     * @private\r\n     */\r\n    Solver.prototype._getVarSymbol = function (variable) {\r\n        var _this = this;\r\n        var factory = function () { return _this._makeSymbol(SymbolType.External); };\r\n        return this._varMap.setDefault(variable, factory).second;\r\n    };\r\n    /**\r\n     * Create a new Row object for the given constraint.\r\n     *\r\n     * The terms in the constraint will be converted to cells in the row.\r\n     * Any term in the constraint with a coefficient of zero is ignored.\r\n     * This method uses the `_getVarSymbol` method to get the symbol for\r\n     * the variables added to the row. If the symbol for a given cell\r\n     * variable is basic, the cell variable will be substituted with the\r\n     * basic row.\r\n     *\r\n     * The necessary slack and error variables will be added to the row.\r\n     * If the constant for the row is negative, the sign for the row\r\n     * will be inverted so the constant becomes positive.\r\n     *\r\n     * Returns the created Row and the tag for tracking the constraint.\r\n     * @private\r\n     */\r\n    Solver.prototype._createRow = function (constraint) {\r\n        var expr = constraint.expression();\r\n        var row = new Row(expr.constant());\r\n        // Substitute the current basic variables into the row.\r\n        var terms = expr.terms();\r\n        for (var i = 0, n = terms.size(); i < n; ++i) {\r\n            var termPair = terms.itemAt(i);\r\n            if (!nearZero(termPair.second)) {\r\n                var symbol = this._getVarSymbol(termPair.first);\r\n                var basicPair = this._rowMap.find(symbol);\r\n                if (basicPair !== undefined) {\r\n                    row.insertRow(basicPair.second, termPair.second);\r\n                }\r\n                else {\r\n                    row.insertSymbol(symbol, termPair.second);\r\n                }\r\n            }\r\n        }\r\n        // Add the necessary slack, error, and dummy variables.\r\n        var objective = this._objective;\r\n        var strength = constraint.strength();\r\n        var tag = { marker: INVALID_SYMBOL, other: INVALID_SYMBOL };\r\n        switch (constraint.op()) {\r\n            case constraint_1.Operator.Le:\r\n            case constraint_1.Operator.Ge: {\r\n                var coeff = constraint.op() === constraint_1.Operator.Le ? 1.0 : -1.0;\r\n                var slack = this._makeSymbol(SymbolType.Slack);\r\n                tag.marker = slack;\r\n                row.insertSymbol(slack, coeff);\r\n                if (strength < strength_1.Strength.required) {\r\n                    var error = this._makeSymbol(SymbolType.Error);\r\n                    tag.other = error;\r\n                    row.insertSymbol(error, -coeff);\r\n                    objective.insertSymbol(error, strength);\r\n                }\r\n                break;\r\n            }\r\n            case constraint_1.Operator.Eq: {\r\n                if (strength < strength_1.Strength.required) {\r\n                    var errplus = this._makeSymbol(SymbolType.Error);\r\n                    var errminus = this._makeSymbol(SymbolType.Error);\r\n                    tag.marker = errplus;\r\n                    tag.other = errminus;\r\n                    row.insertSymbol(errplus, -1.0); // v = eplus - eminus\r\n                    row.insertSymbol(errminus, 1.0); // v - eplus + eminus = 0\r\n                    objective.insertSymbol(errplus, strength);\r\n                    objective.insertSymbol(errminus, strength);\r\n                }\r\n                else {\r\n                    var dummy = this._makeSymbol(SymbolType.Dummy);\r\n                    tag.marker = dummy;\r\n                    row.insertSymbol(dummy);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        // Ensure the row has a positive constant.\r\n        if (row.constant() < 0.0) {\r\n            row.reverseSign();\r\n        }\r\n        return { row: row, tag: tag };\r\n    };\r\n    /**\r\n     * Choose the subject for solving for the row.\r\n     *\r\n     * This method will choose the best subject for using as the solve\r\n     * target for the row. An invalid symbol will be returned if there\r\n     * is no valid target.\r\n     *\r\n     * The symbols are chosen according to the following precedence:\r\n     *\r\n     * 1) The first symbol representing an external variable.\r\n     * 2) A negative slack or error tag variable.\r\n     *\r\n     * If a subject cannot be found, an invalid symbol will be returned.\r\n     *\r\n     * @private\r\n     */\r\n    Solver.prototype._chooseSubject = function (row, tag) {\r\n        var cells = row.cells();\r\n        for (var i = 0, n = cells.size(); i < n; ++i) {\r\n            var pair = cells.itemAt(i);\r\n            if (pair.first.type() === SymbolType.External) {\r\n                return pair.first;\r\n            }\r\n        }\r\n        var type = tag.marker.type();\r\n        if (type === SymbolType.Slack || type === SymbolType.Error) {\r\n            if (row.coefficientFor(tag.marker) < 0.0) {\r\n                return tag.marker;\r\n            }\r\n        }\r\n        type = tag.other.type();\r\n        if (type === SymbolType.Slack || type === SymbolType.Error) {\r\n            if (row.coefficientFor(tag.other) < 0.0) {\r\n                return tag.other;\r\n            }\r\n        }\r\n        return INVALID_SYMBOL;\r\n    };\r\n    /**\r\n     * Add the row to the tableau using an artificial variable.\r\n     *\r\n     * This will return false if the constraint cannot be satisfied.\r\n     *\r\n     * @private\r\n     */\r\n    Solver.prototype._addWithArtificialVariable = function (row) {\r\n        // Create and add the artificial variable to the tableau.\r\n        var art = this._makeSymbol(SymbolType.Slack);\r\n        this._rowMap.insert(art, row.copy());\r\n        this._artificial = row.copy();\r\n        // Optimize the artificial objective. This is successful\r\n        // only if the artificial objective is optimized to zero.\r\n        this._optimize(this._artificial);\r\n        var success = nearZero(this._artificial.constant());\r\n        this._artificial = null;\r\n        // If the artificial variable is basic, pivot the row so that\r\n        // it becomes non-basic. If the row is constant, exit early.\r\n        var pair = this._rowMap.erase(art);\r\n        if (pair !== undefined) {\r\n            var basicRow = pair.second;\r\n            if (basicRow.isConstant()) {\r\n                return success;\r\n            }\r\n            var entering = this._anyPivotableSymbol(basicRow);\r\n            if (entering.type() === SymbolType.Invalid) {\r\n                return false; // unsatisfiable (will this ever happen?)\r\n            }\r\n            basicRow.solveForEx(art, entering);\r\n            this._substitute(entering, basicRow);\r\n            this._rowMap.insert(entering, basicRow);\r\n        }\r\n        // Remove the artificial variable from the tableau.\r\n        var rows = this._rowMap;\r\n        for (var i = 0, n = rows.size(); i < n; ++i) {\r\n            rows.itemAt(i).second.removeSymbol(art);\r\n        }\r\n        this._objective.removeSymbol(art);\r\n        return success;\r\n    };\r\n    /**\r\n     * Substitute the parametric symbol with the given row.\r\n     *\r\n     * This method will substitute all instances of the parametric symbol\r\n     * in the tableau and the objective function with the given row.\r\n     *\r\n     * @private\r\n     */\r\n    Solver.prototype._substitute = function (symbol, row) {\r\n        var rows = this._rowMap;\r\n        for (var i = 0, n = rows.size(); i < n; ++i) {\r\n            var pair = rows.itemAt(i);\r\n            pair.second.substitute(symbol, row);\r\n            if (pair.second.constant() < 0.0 &&\r\n                pair.first.type() !== SymbolType.External) {\r\n                this._infeasibleRows.push(pair.first);\r\n            }\r\n        }\r\n        this._objective.substitute(symbol, row);\r\n        if (this._artificial) {\r\n            this._artificial.substitute(symbol, row);\r\n        }\r\n    };\r\n    /**\r\n     * Optimize the system for the given objective function.\r\n     *\r\n     * This method performs iterations of Phase 2 of the simplex method\r\n     * until the objective function reaches a minimum.\r\n     *\r\n     * @private\r\n     */\r\n    Solver.prototype._optimize = function (objective) {\r\n        while (true) {\r\n            var entering = this._getEnteringSymbol(objective);\r\n            if (entering.type() === SymbolType.Invalid) {\r\n                return;\r\n            }\r\n            var leaving = this._getLeavingSymbol(entering);\r\n            if (leaving.type() === SymbolType.Invalid) {\r\n                throw new Error('the objective is unbounded');\r\n            }\r\n            // pivot the entering symbol into the basis\r\n            var row = this._rowMap.erase(leaving).second;\r\n            row.solveForEx(leaving, entering);\r\n            this._substitute(entering, row);\r\n            this._rowMap.insert(entering, row);\r\n        }\r\n    };\r\n    /**\r\n     * Optimize the system using the dual of the simplex method.\r\n     *\r\n     * The current state of the system should be such that the objective\r\n     * function is optimal, but not feasible. This method will perform\r\n     * an iteration of the dual simplex method to make the solution both\r\n     * optimal and feasible.\r\n     *\r\n     * @private\r\n     */\r\n    Solver.prototype._dualOptimize = function () {\r\n        var rows = this._rowMap;\r\n        var infeasible = this._infeasibleRows;\r\n        while (infeasible.length !== 0) {\r\n            var leaving = infeasible.pop();\r\n            var pair = rows.find(leaving);\r\n            if (pair !== undefined && pair.second.constant() < 0.0) {\r\n                var entering = this._getDualEnteringSymbol(pair.second);\r\n                if (entering.type() === SymbolType.Invalid) {\r\n                    throw new Error('dual optimize failed');\r\n                }\r\n                // pivot the entering symbol into the basis\r\n                var row = pair.second;\r\n                rows.erase(leaving);\r\n                row.solveForEx(leaving, entering);\r\n                this._substitute(entering, row);\r\n                rows.insert(entering, row);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Compute the entering variable for a pivot operation.\r\n     *\r\n     * This method will return first symbol in the objective function which\r\n     * is non-dummy and has a coefficient less than zero. If no symbol meets\r\n     * the criteria, it means the objective function is at a minimum, and an\r\n     * invalid symbol is returned.\r\n     *\r\n     * @private\r\n     */\r\n    Solver.prototype._getEnteringSymbol = function (objective) {\r\n        var cells = objective.cells();\r\n        for (var i = 0, n = cells.size(); i < n; ++i) {\r\n            var pair = cells.itemAt(i);\r\n            var symbol = pair.first;\r\n            if (pair.second < 0.0 && symbol.type() !== SymbolType.Dummy) {\r\n                return symbol;\r\n            }\r\n        }\r\n        return INVALID_SYMBOL;\r\n    };\r\n    /**\r\n     * Compute the entering symbol for the dual optimize operation.\r\n     *\r\n     * This method will return the symbol in the row which has a positive\r\n     * coefficient and yields the minimum ratio for its respective symbol\r\n     * in the objective function. The provided row *must* be infeasible.\r\n     * If no symbol is found which meats the criteria, an invalid symbol\r\n     * is returned.\r\n     *\r\n     * @private\r\n     */\r\n    Solver.prototype._getDualEnteringSymbol = function (row) {\r\n        var ratio = Number.MAX_VALUE;\r\n        var entering = INVALID_SYMBOL;\r\n        var cells = row.cells();\r\n        for (var i = 0, n = cells.size(); i < n; ++i) {\r\n            var pair = cells.itemAt(i);\r\n            var symbol = pair.first;\r\n            var c = pair.second;\r\n            if (c > 0.0 && symbol.type() !== SymbolType.Dummy) {\r\n                var coeff = this._objective.coefficientFor(symbol);\r\n                var r = coeff / c;\r\n                if (r < ratio) {\r\n                    ratio = r;\r\n                    entering = symbol;\r\n                }\r\n            }\r\n        }\r\n        return entering;\r\n    };\r\n    /**\r\n     * Compute the symbol for pivot exit row.\r\n     *\r\n     * This method will return the symbol for the exit row in the row\r\n     * map. If no appropriate exit symbol is found, an invalid symbol\r\n     * will be returned. This indicates that the objective function is\r\n     * unbounded.\r\n     *\r\n     * @private\r\n     */\r\n    Solver.prototype._getLeavingSymbol = function (entering) {\r\n        var ratio = Number.MAX_VALUE;\r\n        var found = INVALID_SYMBOL;\r\n        var rows = this._rowMap;\r\n        for (var i = 0, n = rows.size(); i < n; ++i) {\r\n            var pair = rows.itemAt(i);\r\n            var symbol = pair.first;\r\n            if (symbol.type() !== SymbolType.External) {\r\n                var row = pair.second;\r\n                var temp = row.coefficientFor(entering);\r\n                if (temp < 0.0) {\r\n                    var temp_ratio = -row.constant() / temp;\r\n                    if (temp_ratio < ratio) {\r\n                        ratio = temp_ratio;\r\n                        found = symbol;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return found;\r\n    };\r\n    /**\r\n     * Compute the leaving symbol for a marker variable.\r\n     *\r\n     * This method will return a symbol corresponding to a basic row\r\n     * which holds the given marker variable. The row will be chosen\r\n     * according to the following precedence:\r\n     *\r\n     * 1) The row with a restricted basic varible and a negative coefficient\r\n     *    for the marker with the smallest ratio of -constant / coefficient.\r\n     *\r\n     * 2) The row with a restricted basic variable and the smallest ratio\r\n     *    of constant / coefficient.\r\n     *\r\n     * 3) The last unrestricted row which contains the marker.\r\n     *\r\n     * If the marker does not exist in any row, an invalid symbol will be\r\n     * returned. This indicates an internal solver error since the marker\r\n     * *should* exist somewhere in the tableau.\r\n     *\r\n     * @private\r\n     */\r\n    Solver.prototype._getMarkerLeavingSymbol = function (marker) {\r\n        var dmax = Number.MAX_VALUE;\r\n        var r1 = dmax;\r\n        var r2 = dmax;\r\n        var invalid = INVALID_SYMBOL;\r\n        var first = invalid;\r\n        var second = invalid;\r\n        var third = invalid;\r\n        var rows = this._rowMap;\r\n        for (var i = 0, n = rows.size(); i < n; ++i) {\r\n            var pair = rows.itemAt(i);\r\n            var row = pair.second;\r\n            var c = row.coefficientFor(marker);\r\n            if (c === 0.0) {\r\n                continue;\r\n            }\r\n            var symbol = pair.first;\r\n            if (symbol.type() === SymbolType.External) {\r\n                third = symbol;\r\n            }\r\n            else if (c < 0.0) {\r\n                var r = -row.constant() / c;\r\n                if (r < r1) {\r\n                    r1 = r;\r\n                    first = symbol;\r\n                }\r\n            }\r\n            else {\r\n                var r = row.constant() / c;\r\n                if (r < r2) {\r\n                    r2 = r;\r\n                    second = symbol;\r\n                }\r\n            }\r\n        }\r\n        if (first !== invalid) {\r\n            return first;\r\n        }\r\n        if (second !== invalid) {\r\n            return second;\r\n        }\r\n        return third;\r\n    };\r\n    /**\r\n     * Remove the effects of a constraint on the objective function.\r\n     *\r\n     * @private\r\n     */\r\n    Solver.prototype._removeConstraintEffects = function (cn, tag) {\r\n        if (tag.marker.type() === SymbolType.Error) {\r\n            this._removeMarkerEffects(tag.marker, cn.strength());\r\n        }\r\n        if (tag.other.type() === SymbolType.Error) {\r\n            this._removeMarkerEffects(tag.other, cn.strength());\r\n        }\r\n    };\r\n    /**\r\n     * Remove the effects of an error marker on the objective function.\r\n     *\r\n     * @private\r\n     */\r\n    Solver.prototype._removeMarkerEffects = function (marker, strength) {\r\n        var pair = this._rowMap.find(marker);\r\n        if (pair !== undefined) {\r\n            this._objective.insertRow(pair.second, -strength);\r\n        }\r\n        else {\r\n            this._objective.insertSymbol(marker, -strength);\r\n        }\r\n    };\r\n    /**\r\n     * Get the first Slack or Error symbol in the row.\r\n     *\r\n     * If no such symbol is present, an invalid symbol will be returned.\r\n     *\r\n     * @private\r\n     */\r\n    Solver.prototype._anyPivotableSymbol = function (row) {\r\n        var cells = row.cells();\r\n        for (var i = 0, n = cells.size(); i < n; ++i) {\r\n            var pair = cells.itemAt(i);\r\n            var type = pair.first.type();\r\n            if (type === SymbolType.Slack || type === SymbolType.Error) {\r\n                return pair.first;\r\n            }\r\n        }\r\n        return INVALID_SYMBOL;\r\n    };\r\n    /**\r\n     * Returns a new Symbol of the given type.\r\n     *\r\n     * @private\r\n     */\r\n    Solver.prototype._makeSymbol = function (type) {\r\n        return new Symbol(type, this._idTick++);\r\n    };\r\n    return Solver;\r\n}());\r\nexports.Solver = Solver;\r\n/**\r\n * Test whether a value is approximately zero.\r\n * @private\r\n */\r\nfunction nearZero(value) {\r\n    var eps = 1.0e-8;\r\n    return value < 0.0 ? -value < eps : value < eps;\r\n}\r\n/**\r\n * An internal function for creating a constraint map.\r\n * @private\r\n */\r\nfunction createCnMap() {\r\n    return maptype_1.createMap();\r\n}\r\n/**\r\n * An internal function for creating a row map.\r\n * @private\r\n */\r\nfunction createRowMap() {\r\n    return maptype_1.createMap();\r\n}\r\n/**\r\n * An internal function for creating a variable map.\r\n * @private\r\n */\r\nfunction createVarMap() {\r\n    return maptype_1.createMap();\r\n}\r\n/**\r\n * An internal function for creating an edit map.\r\n * @private\r\n */\r\nfunction createEditMap() {\r\n    return maptype_1.createMap();\r\n}\r\n/**\r\n * An enum defining the available symbol types.\r\n * @private\r\n */\r\nvar SymbolType;\r\n(function (SymbolType) {\r\n    SymbolType[SymbolType[\"Invalid\"] = 0] = \"Invalid\";\r\n    SymbolType[SymbolType[\"External\"] = 1] = \"External\";\r\n    SymbolType[SymbolType[\"Slack\"] = 2] = \"Slack\";\r\n    SymbolType[SymbolType[\"Error\"] = 3] = \"Error\";\r\n    SymbolType[SymbolType[\"Dummy\"] = 4] = \"Dummy\";\r\n})(SymbolType || (SymbolType = {}));\r\n/**\r\n * An internal class representing a symbol in the solver.\r\n * @private\r\n */\r\nvar Symbol = /** @class */ (function () {\r\n    /**\r\n     * Construct a new Symbol\r\n     *\r\n     * @param [type] The type of the symbol.\r\n     * @param [id] The unique id number of the symbol.\r\n     */\r\n    function Symbol(type, id) {\r\n        this._id = id;\r\n        this._type = type;\r\n    }\r\n    /**\r\n     * Returns the unique id number of the symbol.\r\n     */\r\n    Symbol.prototype.id = function () {\r\n        return this._id;\r\n    };\r\n    /**\r\n     * Returns the type of the symbol.\r\n     */\r\n    Symbol.prototype.type = function () {\r\n        return this._type;\r\n    };\r\n    return Symbol;\r\n}());\r\n/**\r\n * A static invalid symbol\r\n * @private\r\n */\r\nvar INVALID_SYMBOL = new Symbol(SymbolType.Invalid, -1);\r\n/**\r\n * An internal row class used by the solver.\r\n * @private\r\n */\r\nvar Row = /** @class */ (function () {\r\n    /**\r\n     * Construct a new Row.\r\n     */\r\n    function Row(constant) {\r\n        if (constant === void 0) { constant = 0.0; }\r\n        this._cellMap = maptype_1.createMap();\r\n        this._constant = constant;\r\n    }\r\n    /**\r\n     * Returns the mapping of symbols to coefficients.\r\n     */\r\n    Row.prototype.cells = function () {\r\n        return this._cellMap;\r\n    };\r\n    /**\r\n     * Returns the constant for the row.\r\n     */\r\n    Row.prototype.constant = function () {\r\n        return this._constant;\r\n    };\r\n    /**\r\n     * Returns true if the row is a constant value.\r\n     */\r\n    Row.prototype.isConstant = function () {\r\n        return this._cellMap.empty();\r\n    };\r\n    /**\r\n     * Returns true if the Row has all dummy symbols.\r\n     */\r\n    Row.prototype.allDummies = function () {\r\n        var cells = this._cellMap;\r\n        for (var i = 0, n = cells.size(); i < n; ++i) {\r\n            var pair = cells.itemAt(i);\r\n            if (pair.first.type() !== SymbolType.Dummy) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Create a copy of the row.\r\n     */\r\n    Row.prototype.copy = function () {\r\n        var theCopy = new Row(this._constant);\r\n        theCopy._cellMap = this._cellMap.copy();\r\n        return theCopy;\r\n    };\r\n    /**\r\n     * Add a constant value to the row constant.\r\n     *\r\n     * Returns the new value of the constant.\r\n     */\r\n    Row.prototype.add = function (value) {\r\n        return (this._constant += value);\r\n    };\r\n    /**\r\n     * Insert the symbol into the row with the given coefficient.\r\n     *\r\n     * If the symbol already exists in the row, the coefficient\r\n     * will be added to the existing coefficient. If the resulting\r\n     * coefficient is zero, the symbol will be removed from the row.\r\n     */\r\n    Row.prototype.insertSymbol = function (symbol, coefficient) {\r\n        if (coefficient === void 0) { coefficient = 1.0; }\r\n        var pair = this._cellMap.setDefault(symbol, function () { return 0.0; });\r\n        if (nearZero((pair.second += coefficient))) {\r\n            this._cellMap.erase(symbol);\r\n        }\r\n    };\r\n    /**\r\n     * Insert a row into this row with a given coefficient.\r\n     *\r\n     * The constant and the cells of the other row will be\r\n     * multiplied by the coefficient and added to this row. Any\r\n     * cell with a resulting coefficient of zero will be removed\r\n     * from the row.\r\n     */\r\n    Row.prototype.insertRow = function (other, coefficient) {\r\n        if (coefficient === void 0) { coefficient = 1.0; }\r\n        this._constant += other._constant * coefficient;\r\n        var cells = other._cellMap;\r\n        for (var i = 0, n = cells.size(); i < n; ++i) {\r\n            var pair = cells.itemAt(i);\r\n            this.insertSymbol(pair.first, pair.second * coefficient);\r\n        }\r\n    };\r\n    /**\r\n     * Remove a symbol from the row.\r\n     */\r\n    Row.prototype.removeSymbol = function (symbol) {\r\n        this._cellMap.erase(symbol);\r\n    };\r\n    /**\r\n     * Reverse the sign of the constant and cells in the row.\r\n     */\r\n    Row.prototype.reverseSign = function () {\r\n        this._constant = -this._constant;\r\n        var cells = this._cellMap;\r\n        for (var i = 0, n = cells.size(); i < n; ++i) {\r\n            var pair = cells.itemAt(i);\r\n            pair.second = -pair.second;\r\n        }\r\n    };\r\n    /**\r\n     * Solve the row for the given symbol.\r\n     *\r\n     * This method assumes the row is of the form\r\n     * a * x + b * y + c = 0 and (assuming solve for x) will modify\r\n     * the row to represent the right hand side of\r\n     * x = -b/a * y - c / a. The target symbol will be removed from\r\n     * the row, and the constant and other cells will be multiplied\r\n     * by the negative inverse of the target coefficient.\r\n     *\r\n     * The given symbol *must* exist in the row.\r\n     */\r\n    Row.prototype.solveFor = function (symbol) {\r\n        var cells = this._cellMap;\r\n        var pair = cells.erase(symbol);\r\n        var coeff = -1.0 / pair.second;\r\n        this._constant *= coeff;\r\n        for (var i = 0, n = cells.size(); i < n; ++i) {\r\n            cells.itemAt(i).second *= coeff;\r\n        }\r\n    };\r\n    /**\r\n     * Solve the row for the given symbols.\r\n     *\r\n     * This method assumes the row is of the form\r\n     * x = b * y + c and will solve the row such that\r\n     * y = x / b - c / b. The rhs symbol will be removed from the\r\n     * row, the lhs added, and the result divided by the negative\r\n     * inverse of the rhs coefficient.\r\n     *\r\n     * The lhs symbol *must not* exist in the row, and the rhs\r\n     * symbol must* exist in the row.\r\n     */\r\n    Row.prototype.solveForEx = function (lhs, rhs) {\r\n        this.insertSymbol(lhs, -1.0);\r\n        this.solveFor(rhs);\r\n    };\r\n    /**\r\n     * Returns the coefficient for the given symbol.\r\n     */\r\n    Row.prototype.coefficientFor = function (symbol) {\r\n        var pair = this._cellMap.find(symbol);\r\n        return pair !== undefined ? pair.second : 0.0;\r\n    };\r\n    /**\r\n     * Substitute a symbol with the data from another row.\r\n     *\r\n     * Given a row of the form a * x + b and a substitution of the\r\n     * form x = 3 * y + c the row will be updated to reflect the\r\n     * expression 3 * a * y + a * c + b.\r\n     *\r\n     * If the symbol does not exist in the row, this is a no-op.\r\n     */\r\n    Row.prototype.substitute = function (symbol, row) {\r\n        var pair = this._cellMap.erase(symbol);\r\n        if (pair !== undefined) {\r\n            this.insertRow(row, pair.second);\r\n        }\r\n    };\r\n    return Row;\r\n}());\r\n//# sourceMappingURL=solver.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nfunction useActive() {\r\n    var _a = react_1.useState(false), isActive = _a[0], setActive = _a[1];\r\n    var bind = react_1.useMemo(function () { return ({\r\n        onMouseDown: function (e) { return void setActive(true); },\r\n        onMouseUp: function (e) { return void setActive(false); },\r\n    }); }, []);\r\n    return [isActive, bind];\r\n}\r\nexports.default = useActive;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nfunction useClickOutside(refs, onClickOutside) {\r\n    var _a = react_1.useState(false), isActive = _a[0], setActive = _a[1];\r\n    var isOutside = react_1.useCallback(function (e) {\r\n        var test = refs.map(function (ref) {\r\n            return (ref.current !== null && !ref.current.contains(e.target));\r\n        });\r\n        return test.every(Boolean);\r\n    }, [refs]);\r\n    var mousedown = react_1.useCallback(function (e) {\r\n        if (isOutside(e)) {\r\n            setActive(true);\r\n            onClickOutside(e);\r\n        }\r\n    }, [isOutside, onClickOutside]);\r\n    var mouseup = react_1.useCallback(function (e) {\r\n        if (isOutside(e)) {\r\n            setActive(false);\r\n        }\r\n    }, [isOutside]);\r\n    react_1.useEffect(function () {\r\n        document.addEventListener('mousedown', mousedown);\r\n        document.addEventListener('mouseup', mouseup);\r\n        return function () {\r\n            document.removeEventListener('mousedown', mousedown);\r\n            document.removeEventListener('mouseup', mouseup);\r\n        };\r\n    }, [refs, onClickOutside]);\r\n    return [isActive];\r\n}\r\nexports.default = useClickOutside;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importDefault(require(\"react\"));\r\nfunction useFocus() {\r\n    var _a = react_1.default.useState(false), isFocused = _a[0], setFocused = _a[1];\r\n    var bind = react_1.default.useMemo(function () { return ({\r\n        onFocus: function (e) { return void setFocused(true); },\r\n        onBlur: function (e) { return void setFocused(false); },\r\n    }); }, []);\r\n    return [isFocused, bind];\r\n}\r\nexports.default = useFocus;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importDefault(require(\"react\"));\r\nfunction useHover() {\r\n    var _a = react_1.default.useState(false), isHovered = _a[0], setHovered = _a[1];\r\n    var bind = react_1.default.useMemo(function () { return ({\r\n        onMouseEnter: function (e) { return void setHovered(true); },\r\n        onMouseLeave: function (e) { return void setHovered(false); },\r\n    }); }, []);\r\n    return [isHovered, bind];\r\n}\r\nexports.default = useHover;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nfunction useMousePosition() {\r\n    var _a = react_1.useState(0), x = _a[0], setX = _a[1];\r\n    var _b = react_1.useState(0), y = _b[0], setY = _b[1];\r\n    var bind = react_1.useMemo(function () { return ({\r\n        onMouseMove: function (e) {\r\n            setX(e.nativeEvent.offsetX);\r\n            setY(e.nativeEvent.offsetY);\r\n        },\r\n    }); }, []);\r\n    return [x, y, bind];\r\n}\r\nexports.default = useMousePosition;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nvar resize_observer_polyfill_1 = __importDefault(require(\"resize-observer-polyfill\"));\r\nfunction useResizeObserver(ref) {\r\n    var _a = react_1.useState(0), width = _a[0], setWidth = _a[1];\r\n    var _b = react_1.useState(0), height = _b[0], setHeight = _b[1];\r\n    react_1.useLayoutEffect(function () {\r\n        var resizeObserver = new resize_observer_polyfill_1.default(function (entries) {\r\n            setWidth(entries[0].contentRect.width);\r\n            setHeight(entries[0].contentRect.height);\r\n        });\r\n        if (ref.current !== null) {\r\n            resizeObserver.observe(ref.current);\r\n        }\r\n        return function () { return void resizeObserver.disconnect(); };\r\n    }, [ref]);\r\n    return [width, height];\r\n}\r\nexports.default = useResizeObserver;\r\n//# sourceMappingURL=index.js.map","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importDefault(require(\"react\"));\r\nfunction useTouch() {\r\n    var _a = react_1.default.useState(false), isTouched = _a[0], setTouched = _a[1];\r\n    var bind = react_1.default.useMemo(function () { return ({\r\n        onTouchStart: function (e) { return void setTouched(true); },\r\n        onTouchEnd: function (e) { return void setTouched(false); },\r\n    }); }, []);\r\n    return [isTouched, bind];\r\n}\r\nexports.default = useTouch;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importDefault(require(\"react\"));\r\nfunction useWindowResize() {\r\n    var _a = react_1.default.useState(window.innerWidth), width = _a[0], setWidth = _a[1];\r\n    var _b = react_1.default.useState(window.innerHeight), height = _b[0], setHeight = _b[1];\r\n    var resize = react_1.default.useCallback(function () {\r\n        setWidth(window.innerWidth);\r\n        setHeight(window.innerHeight);\r\n    }, []);\r\n    react_1.default.useEffect(function () {\r\n        window.addEventListener('resize', resize);\r\n        return function () { return void window.removeEventListener('resize', resize); };\r\n    }, [resize]);\r\n    return [width, height];\r\n}\r\nexports.default = useWindowResize;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar useEffectOnce_1 = __importDefault(require(\"../useEffectOnce\"));\r\nvar useMount = function (fn) {\r\n    useEffectOnce_1.default(function () {\r\n        fn();\r\n    });\r\n};\r\nexports.default = useMount;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nvar useEffectOnce_1 = __importDefault(require(\"../useEffectOnce\"));\r\nvar useUnmount = function (fn) {\r\n    var fnRef = react_1.useRef(fn);\r\n    // update the ref each render so if it change the newest callback will be invoked\r\n    fnRef.current = fn;\r\n    useEffectOnce_1.default(function () { return function () { return fnRef.current(); }; });\r\n};\r\nexports.default = useUnmount;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nfunction useStateful(initial) {\r\n    var _a = react_1.useState(initial), value = _a[0], setValue = _a[1];\r\n    return react_1.useMemo(function () { return ({\r\n        value: value,\r\n        setValue: setValue,\r\n    }); }, [value]);\r\n}\r\nexports.useStateful = useStateful;\r\nexports.default = useStateful;\r\n//# sourceMappingURL=useStateful.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nvar useArray_1 = __importDefault(require(\"./array/useArray\"));\r\nfunction useArray(initial) {\r\n    var _a = useArray_1.default(initial), value = _a[0], actions = _a[1];\r\n    return react_1.useMemo(function () { return (__assign({ value: value }, actions)); }, [actions, value]);\r\n}\r\nexports.useArray = useArray;\r\nexports.default = useArray;\r\n//# sourceMappingURL=useArray.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nfunction useArray(initial) {\r\n    var _a = react_1.useState(initial), value = _a[0], setValue = _a[1];\r\n    var push = react_1.useCallback(function (a) {\r\n        setValue(function (v) { return __spreadArrays(v, (Array.isArray(a) ? a : [a])); });\r\n    }, []);\r\n    var unshift = react_1.useCallback(function (a) { return setValue(function (v) { return __spreadArrays((Array.isArray(a) ? a : [a]), v); }); }, []);\r\n    var pop = react_1.useCallback(function () { return setValue(function (v) { return v.slice(0, -1); }); }, []);\r\n    var shift = react_1.useCallback(function () { return setValue(function (v) { return v.slice(1); }); }, []);\r\n    var move = react_1.useCallback(function (from, to) {\r\n        return setValue(function (it) {\r\n            var copy = it.slice();\r\n            copy.splice(to < 0 ? copy.length + to : to, 0, copy.splice(from, 1)[0]);\r\n            return copy;\r\n        });\r\n    }, []);\r\n    var clear = react_1.useCallback(function () { return setValue(function () { return []; }); }, []);\r\n    var removeById = react_1.useCallback(\r\n    // @ts-ignore not every array that you will pass down will have object with id field.\r\n    function (id) { return setValue(function (arr) { return arr.filter(function (v) { return v && v.id !== id; }); }); }, []);\r\n    var removeIndex = react_1.useCallback(function (index) {\r\n        return setValue(function (v) {\r\n            var copy = v.slice();\r\n            copy.splice(index, 1);\r\n            return copy;\r\n        });\r\n    }, []);\r\n    var modifyById = react_1.useCallback(function (id, newValue) {\r\n        // @ts-ignore not every array that you will pass down will have object with id field.\r\n        return setValue(function (arr) {\r\n            return arr.map(function (v) { return (v.id === id ? __assign(__assign({}, v), newValue) : v); });\r\n        });\r\n    }, []);\r\n    var updateAt = react_1.useCallback(function (index, item) {\r\n        return setValue(function (v) {\r\n            var value = v.slice();\r\n            value[index] = item;\r\n            return value;\r\n        });\r\n    }, []);\r\n    var insertAt = react_1.useCallback(function (index, item) {\r\n        return setValue(function (v) {\r\n            var value = v.slice();\r\n            index > value.length\r\n                ? (value[index] = item)\r\n                : value.splice(index, 0, item);\r\n            return value;\r\n        });\r\n    }, []);\r\n    var actions = react_1.useMemo(function () { return ({\r\n        setValue: setValue,\r\n        add: push,\r\n        unshift: unshift,\r\n        push: push,\r\n        move: move,\r\n        clear: clear,\r\n        removeById: removeById,\r\n        removeIndex: removeIndex,\r\n        pop: pop,\r\n        shift: shift,\r\n        modifyById: modifyById,\r\n        updateAt: updateAt,\r\n        insertAt: insertAt,\r\n    }); }, [\r\n        push,\r\n        unshift,\r\n        move,\r\n        clear,\r\n        removeById,\r\n        removeIndex,\r\n        pop,\r\n        shift,\r\n        updateAt,\r\n        modifyById,\r\n        insertAt,\r\n    ]);\r\n    return [value, actions];\r\n}\r\nexports.useArray = useArray;\r\nexports.default = useArray;\r\n//# sourceMappingURL=useArray.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nvar useMap_1 = __importDefault(require(\"./array/useMap\"));\r\nfunction useMap(initialState) {\r\n    if (initialState === void 0) { initialState = new Map(); }\r\n    var _a = useMap_1.default(initialState), map = _a[0], actions = _a[1];\r\n    return react_1.useMemo(function () { return (__assign({ value: map }, actions)); }, [actions, map]);\r\n}\r\nexports.useMap = useMap;\r\nexports.default = useMap;\r\n//# sourceMappingURL=useMap.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nfunction useMap(initialState) {\r\n    if (initialState === void 0) { initialState = new Map(); }\r\n    var _a = react_1.useState(Array.isArray(initialState) ? new Map(initialState) : initialState), map = _a[0], setMap = _a[1];\r\n    var set = react_1.useCallback(function (key, value) {\r\n        setMap(function (aMap) {\r\n            var copy = new Map(aMap);\r\n            return copy.set(key, value);\r\n        });\r\n    }, []);\r\n    var deleteByKey = react_1.useCallback(function (key) {\r\n        setMap(function (_map) {\r\n            var copy = new Map(_map);\r\n            copy.delete(key);\r\n            return copy;\r\n        });\r\n    }, []);\r\n    var clear = react_1.useCallback(function () {\r\n        setMap(function () { return new Map(); });\r\n    }, []);\r\n    var initialize = react_1.useCallback(function (mapOrTuple) {\r\n        if (mapOrTuple === void 0) { mapOrTuple = []; }\r\n        setMap(function () { return new Map(mapOrTuple); });\r\n    }, []);\r\n    var actions = react_1.useMemo(function () { return ({\r\n        setValue: setMap,\r\n        clear: clear,\r\n        set: set,\r\n        // TODO: To be removed in the next major release\r\n        remove: deleteByKey,\r\n        delete: deleteByKey,\r\n        initialize: initialize,\r\n    }); }, [clear, deleteByKey, initialize, set]);\r\n    return [map, actions];\r\n}\r\nexports.useMap = useMap;\r\nexports.default = useMap;\r\n//# sourceMappingURL=useMap.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nvar arraysAreEqual_1 = __importDefault(require(\"./helpers/arraysAreEqual\"));\r\nvar getActiveModifierKeys_1 = __importDefault(require(\"./helpers/getActiveModifierKeys\"));\r\nvar getHotkeysArray_1 = __importDefault(require(\"./helpers/getHotkeysArray\"));\r\nvar isSameSet_1 = __importDefault(require(\"./helpers/isSameSet\"));\r\nvar mapModifierKeys_1 = __importDefault(require(\"./helpers/mapModifierKeys\"));\r\nvar modifierKeyPressed_1 = __importDefault(require(\"./helpers/modifierKeyPressed\"));\r\nvar tail_1 = __importDefault(require(\"./helpers/tail\"));\r\nvar takeUntilLast_1 = __importDefault(require(\"./helpers/takeUntilLast\"));\r\nvar KEY_SEQUENCE_TIMEOUT = 1000;\r\nvar ESCAPE_HATCH_KEY = '*';\r\nvar useHotkeys = function (hotkeys, callback) {\r\n    var hotkeysArray = react_1.useMemo(function () {\r\n        return Array.isArray(hotkeys)\r\n            ? hotkeys.map(getHotkeysArray_1.default)\r\n            : [getHotkeysArray_1.default(hotkeys)];\r\n    }, [hotkeys]);\r\n    react_1.useEffect(function () {\r\n        var keySequences = {};\r\n        var sequenceTimers = {};\r\n        var clearSequenceTimer = function (index) {\r\n            clearTimeout(sequenceTimers[index]);\r\n        };\r\n        var resetKeySequence = function (index) {\r\n            clearSequenceTimer(index);\r\n            keySequences[index] = [];\r\n        };\r\n        var handleKeySequence = function (event, keys, index) {\r\n            clearSequenceTimer(index);\r\n            keySequences[index] = keySequences[index] || [];\r\n            sequenceTimers[index] = window.setTimeout(function () {\r\n                resetKeySequence(index);\r\n            }, KEY_SEQUENCE_TIMEOUT);\r\n            var keySequence = keySequences[index];\r\n            keySequence.push(event.key.toLowerCase());\r\n            if (arraysAreEqual_1.default(keySequence, keys)) {\r\n                resetKeySequence(index);\r\n                callback(event);\r\n            }\r\n        };\r\n        var handleModifierCombo = function (event, keys) {\r\n            var actionKey = tail_1.default(keys);\r\n            var modKeys = mapModifierKeys_1.default(takeUntilLast_1.default(keys));\r\n            var activeModKeys = getActiveModifierKeys_1.default(event);\r\n            var allModKeysPressed = isSameSet_1.default(modKeys, activeModKeys);\r\n            if (allModKeysPressed && event.key.toLowerCase() === actionKey) {\r\n                callback(event);\r\n            }\r\n        };\r\n        var onKeydown = function (event) {\r\n            /**\r\n             * Chrome autocomplete triggers `keydown` event but event.key will be undefined.\r\n             * See https://bugs.chromium.org/p/chromium/issues/detail?id=581537.\r\n             */\r\n            if (!event.key && !modifierKeyPressed_1.default(event)) {\r\n                return;\r\n            }\r\n            hotkeysArray.forEach(function (keysArray, i) {\r\n                if (keysArray.length === 1 && keysArray[0] === ESCAPE_HATCH_KEY) {\r\n                    /**\r\n                     * Provide escape hatch should the user want to perform\r\n                     * some custom logic not supported by the API.\r\n                     */\r\n                    callback(event);\r\n                    return;\r\n                }\r\n                // Handle modifier key combos\r\n                if (modifierKeyPressed_1.default(event)) {\r\n                    handleModifierCombo(event, keysArray);\r\n                    return;\r\n                }\r\n                // Handle key sequences\r\n                if (keysArray.length > 1 && !modifierKeyPressed_1.default(event)) {\r\n                    handleKeySequence(event, keysArray, i);\r\n                    return;\r\n                }\r\n                // Handle the basic case; a single hotkey\r\n                if (event.key.toLowerCase() === keysArray[0]) {\r\n                    callback(event);\r\n                }\r\n            });\r\n        };\r\n        window.addEventListener('keydown', onKeydown, true);\r\n        return function () {\r\n            window.removeEventListener('keydown', onKeydown, true);\r\n        };\r\n    }, [hotkeysArray, callback]);\r\n};\r\nexports.default = useHotkeys;\r\n//# sourceMappingURL=useHotkeys.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Check if two arrays contain the same items.\r\n * Items *must* be in the same order.\r\n *\r\n *   arraysEqual([1, 2, 3], [3, 2, 1]) // false\r\n *   arraysEqual([1, 2, 3], [1, 2, 3]) // true\r\n */\r\nexports.default = (function (arr1, arr2) {\r\n    return arr1.length === arr2.length && arr1.every(function (item, i) { return item === arr2[i]; });\r\n});\r\n//# sourceMappingURL=arraysAreEqual.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = (function (event) {\r\n    var modifiers = [];\r\n    if (event.ctrlKey) {\r\n        modifiers.push('ctrlKey');\r\n    }\r\n    if (event.shiftKey) {\r\n        modifiers.push('shiftKey');\r\n    }\r\n    if (event.altKey) {\r\n        modifiers.push('altKey');\r\n    }\r\n    if (event.metaKey) {\r\n        modifiers.push('metaKey');\r\n    }\r\n    return modifiers;\r\n});\r\n//# sourceMappingURL=getActiveModifierKeys.js.map","\"use strict\";\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = (function (hotkeys) {\r\n    var hkeys = hotkeys.toLowerCase();\r\n    if (hkeys.length === 1) {\r\n        // We're dealing with a single key\r\n        return [hkeys];\r\n    }\r\n    if (hkeys.includes('+')) {\r\n        // We're dealing with a modifier-key combination\r\n        return hkeys.replace(/\\s+/g, '').split('+');\r\n    }\r\n    /**\r\n     * We're dealing with a key sequence, so split on spaces.\r\n     * If the whitespace character is within quotation marks (\" \" or ' ')\r\n     * it signifies a space key and not a delimeter.\r\n     */\r\n    return __spreadArrays((hkeys.match(/[^\\s\"']+|\"([^\"]*)\"|'([^']*)'/g) || [])).map(function (key) {\r\n        return key.replace(/(\"|').*?(\"|')/, ' ');\r\n    });\r\n});\r\n//# sourceMappingURL=getHotkeysArray.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Check if two arrays contain the same items.\r\n * Items do *not* need to be in the same order.\r\n *\r\n *   isSameSet([1, 2, 3], [3, 2, 1]) // true\r\n */\r\nexports.default = (function (arr1, arr2) {\r\n    return arr1.length === arr2.length && arr1.every(function (item) { return arr2.includes(item); });\r\n});\r\n//# sourceMappingURL=isSameSet.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar modiferKeyMap = {\r\n    control: 'ctrlKey',\r\n    shift: 'shiftKey',\r\n    alt: 'altKey',\r\n    meta: 'metaKey',\r\n};\r\nexports.default = (function (keys) { return keys.map(function (k) { return modiferKeyMap[k]; }); });\r\n//# sourceMappingURL=mapModifierKeys.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = (function (event) {\r\n    return event.altKey || event.ctrlKey || event.shiftKey || event.metaKey;\r\n});\r\n//# sourceMappingURL=modifierKeyPressed.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = (function (arr) { return arr[arr.length - 1]; });\r\n//# sourceMappingURL=tail.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = (function (arr) { return arr.slice(0, -1); });\r\n//# sourceMappingURL=takeUntilLast.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nfunction usePrevious(value) {\r\n    var ref = react_1.useRef();\r\n    react_1.useEffect(function () {\r\n        ref.current = value;\r\n    }, [value]);\r\n    return ref.current;\r\n}\r\nexports.usePrevious = usePrevious;\r\nexports.default = usePrevious;\r\n//# sourceMappingURL=usePrevious.js.map","import * as React from 'react';\n\ntype Props = {\n  child: React.ReactNode;\n  style: React.CSSProperties;\n};\n\nexport default function SplitPane(props: Props) {\n  const { style, child } = props;\n  return (\n    <div className={'split-pane'} style={style}>\n      {child}\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { useEffect } from 'react';\nimport { SplitOrientation } from './Split';\n\ntype Props = {\n  orientation: SplitOrientation;\n  onMouseDown: (event: React.MouseEvent<HTMLDivElement>) => void;\n};\n\nexport default function Resizer(props: Props) {\n  const { orientation, onMouseDown } = props;\n  useEffect(() => {\n    return () => {};\n  }, []);\n\n  let resizerClassName = 'resizer';\n  const isHorizontal = orientation === SplitOrientation.Horizontal;\n  if (isHorizontal) {\n    resizerClassName += ' horizontal';\n  } else {\n    resizerClassName += ' vertical';\n  }\n\n  return <div className={resizerClassName} onMouseDown={onMouseDown} />;\n}\n","import { useState } from 'react';\nimport { SplitInfo } from '../components/Split';\n\nexport default function useSplits(initialValue: SplitInfo[]) {\n  return useState(initialValue);\n}\n","import * as React from 'react';\nimport { forwardRef, useImperativeHandle } from 'react';\nimport { useMount, useArray } from '@ishikawa_masashi/react-hooks';\nimport Split, { SplitOrientation, SplitInfo } from './Split';\n\ntype Props = {\n  orientation?: SplitOrientation;\n  sizes: SplitInfo[];\n  children: React.ReactNode;\n};\n\nexport type SplitViewRef = {\n  getSizes: () => SplitInfo[];\n};\n\nconst SplitView = forwardRef<SplitViewRef, Props>((props, ref) => {\n  const { sizes, children, orientation = SplitOrientation.Vertical } = props;\n\n  const splits = useArray<SplitInfo>([]);\n\n  useMount(() => {\n    splits.setValue(sizes);\n    // setSplits(sizes);\n  });\n\n  // \n  useImperativeHandle(ref, () => ({\n    getSizes() {\n      return sizes;\n    },\n    updateAt(index: number, item: SplitInfo) {\n      splits.updateAt(index, item);\n    },\n  }));\n\n  return (\n    <Split\n      orientation={orientation}\n      splits={splits.value}\n      onChange={(newSplits) => {\n        splits.setValue(newSplits);\n      }}\n    >\n      {children}\n    </Split>\n  );\n});\n\nexport default SplitView;\n"],"sourceRoot":""}